(function(t){function e(e){for(var r,o,a=e[0],i=e[1],c=e[2],l=0,f=[];l<a.length;l++)o=a[l],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);p&&p(e);while(f.length)f.shift()();return u.push.apply(u,c||[]),s()}function s(){for(var t,e=0;e<u.length;e++){for(var s=u[e],r=!0,a=1;a<s.length;a++){var i=s[a];0!==n[i]&&(r=!1)}r&&(u.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},n={app:0},u=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var p=i;u.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"04f3":function(t,e,s){},"133b":function(t,e,s){t.exports=s.p+"img/sort.059d824a.svg"},"42a8":function(t,e,s){t.exports=s.p+"img/star.044a788d.svg"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"user-list"},[r("h1",{staticClass:"user-title"},[t._v("Рейтинг пользователей:")]),r("img",{staticClass:"user-sorting",attrs:{src:s("133b"),alt:""},on:{click:t.sortData}})]),t._l(t.sortedData,(function(e,s){return r("div",{key:s,staticClass:"user-item"},[r("user-item",{attrs:{user:e},on:{"show-popup":t.showPopup}})],1)})),null!==t.isPopupVisible?r("user-popup",{attrs:{user:t.isPopupVisible},on:{"close-popup":t.closePopup}}):t._e()],2)},u=[],o=s("5530"),a=s("2909"),i=s("1da1");s("96cf"),s("d3b7");function c(){return p.apply(this,arguments)}function p(){return p=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/Vespand/crmm-tasks/users");case 2:if(e=t.sent,e.ok){t.next=6;break}throw s="An error has occured: ".concat(e.status),new Error(s);case 6:return t.next=8,e.json();case 8:return r=t.sent,t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}c().catch((function(t){t.message}));var l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-card",on:{click:function(e){return t.showPopup(t.user)}}},[r("img",{staticClass:"user-avatar-sm",class:{userFirst:1===t.user.score,userSecond:2===t.user.score,userThird:3===t.user.score},attrs:{src:t.user.avatar,alt:""}}),r("div",{staticClass:"user-info"},[r("div",[t._v(" Пользователь: ")]),r("div",{staticClass:"user-name"},[t._v(" "+t._s(t.user.name)+" ")])]),r("div",{staticClass:"user-score"},[r("img",{staticClass:"user-star",attrs:{src:s("42a8"),alt:""}}),r("div",{staticClass:"user-rating"},[t._v(" "+t._s(t.user.rating)+" ")])])])},f=[],d={name:"user-item",props:{user:{type:Object,default:function(){return{}}}},methods:{showPopup:function(t){this.$emit("show-popup",t)}}},v=d,h=(s("6ec7"),s("2877")),m=Object(h["a"])(v,l,f,!1,null,null,null),b=m.exports,g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-popup"},[r("div",{staticClass:"user-popup-item"},[r("div",{staticClass:"user-popup-first"},[r("div",{staticClass:"user-popup-title"},[t._v(" Профиль пользователя: ")]),r("img",{staticClass:"user-popup-close",attrs:{src:s("bf37"),alt:""},on:{click:t.closePopup}})]),r("div",{staticClass:"user-popup-second"},[r("img",{staticClass:"user-popup-avatar",class:{userFirst:1===t.user.score,userSecond:2===t.user.score,userThird:3===t.user.score},attrs:{src:t.user.avatar,alt:""}}),r("ul",{staticClass:"user-popup-info"},[r("li",[t._v("Имя:")]),r("li",[t._v(t._s(t.user.name))]),r("li",[t._v("Баллы:")]),r("li",[t._v(t._s(t.user.rating))]),r("li",[t._v("Позиция в рейтинге:")]),r("li",[t._v(t._s(t.user.score))])])]),r("div",{staticClass:"user-popup-desc"},[r("span",[t._v("О себе:")]),r("span",[t._v(t._s(t.user.description))])])])])},_=[],w={name:"user-popup",props:{user:{type:Object,default:function(){return{}}}},methods:{closePopup:function(){this.$emit("close-popup")}}},y=w,j=(s("e1da"),Object(h["a"])(y,g,_,!1,null,null,null)),O=j.exports,P={name:"App",components:{UserItem:b,UserPopup:O},data:function(){return{data:[],isSorted:!0,isPopupVisible:null}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:t.data=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{sortData:function(){this.isSorted=!this.isSorted},showPopup:function(t){this.isPopupVisible=t},closePopup:function(){this.isPopupVisible=null}},computed:{sortedData:function(){var t=Object(a["a"])(this.data);t.sort((function(t,e){return t.rating>e.rating?-1:1}));for(var e=0;e<t.length;e++)t[e]=Object(o["a"])(Object(o["a"])({},t[e]),{},{score:e+1});return this.isSorted||t.reverse(),t}}},C=P,x=(s("5c0b"),Object(h["a"])(C,n,u,!1,null,null,null)),k=x.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(k)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";s("9c0c")},"6ec7":function(t,e,s){"use strict";s("04f3")},"9c0c":function(t,e,s){},b546:function(t,e,s){},bf37:function(t,e,s){t.exports=s.p+"img/close.5ea9d55f.svg"},e1da:function(t,e,s){"use strict";s("b546")}});
//# sourceMappingURL=app.dbe02dc7.js.map